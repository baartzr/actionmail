# Security Notes

## Sensitive Files

The following files contain API keys and sensitive configuration data and should **NOT** be committed to git:

- `android/app/google-services.json` - Contains Firebase API keys for Android
- `lib/firebase_options.dart` - Contains Firebase API keys for all platforms (generated by `flutterfire configure`)
- `lib/config/oauth_config.dart` - Contains OAuth client credentials

These files are listed in `.gitignore` and should be generated/placed locally by each developer.

## If You've Already Committed Sensitive Files

If sensitive files were accidentally committed to git, follow these steps:

### 1. Remove from Git Tracking (already done)
```bash
git rm --cached android/app/google-services.json
git rm --cached lib/firebase_options.dart
```

### 2. Remove from Git History

The files still exist in git history. To remove them completely:

#### Option A: Using git filter-branch (for small repos)
```bash
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch android/app/google-services.json lib/firebase_options.dart" \
  --prune-empty --tag-name-filter cat -- --all
```

#### Option B: Using BFG Repo-Cleaner (recommended for large repos)
1. Download BFG: https://rtyley.github.io/bfg-repo-cleaner/
2. Run:
```bash
java -jar bfg.jar --delete-files google-services.json
java -jar bfg.jar --delete-files firebase_options.dart
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

### 3. Force Push (⚠️ WARNING: This rewrites history)
```bash
git push origin --force --all
git push origin --force --tags
```

**WARNING**: Force pushing rewrites git history. All collaborators will need to:
1. Back up their work
2. Delete their local repo
3. Clone fresh from remote

### 4. Revoke Exposed API Keys

Even after removing from git, if the keys were exposed:
1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Navigate to APIs & Services → Credentials
3. Find and **delete/regenerate** the exposed API keys:
   - `AIzaSyB44a303X63Jjk2uQUysockLXsqNLVW7GE` (exposed)
   - `AIzaSyB3qHTVlyT8P98GPl6cmdR7Ob9QGuQa-QE` (check if exposed)
   - `AIzaSyByqPsjdva3jCRMCX96FwaQNvnAZndkQX0` (check if exposed)
   - `AIzaSyArpe7ruzCLTlHHtXkwGQ2XibkeMYioRYM` (check if exposed)

4. Generate new keys in Firebase Console
5. Update local `google-services.json` and regenerate `firebase_options.dart`

## Best Practices

1. **Always check `.gitignore`** before committing new files
2. **Never commit** files with API keys, secrets, or credentials
3. **Use environment variables** or secure storage for secrets in production
4. **Regularly audit** your repository for exposed secrets
5. **Revoke and regenerate** keys immediately if exposed

## Setup for New Developers

New developers should:
1. Clone the repository
2. Run `flutterfire configure` to generate `lib/firebase_options.dart`
3. Obtain `google-services.json` from Firebase Console and place in `android/app/`
4. The app will work with these local files

